---
date: 2026-02-27
github_issue: 457
github_url: https://github.com/cdubiel08/ralph-hero/issues/457
plan_document: thoughts/shared/plans/2026-02-27-GH-0457-update-docs-cleanup.md
status: approved
type: critique
---

# GH-457 Plan Critique: Update Docs and Clean Up Empty Source Files

## Verdict: APPROVED

The plan is well-structured, accurate, and ready for implementation with one minor issue the builder should address during execution.

## Accuracy of Replace Blocks

All four replace blocks were verified against the actual `CLAUDE.md` content:

| Change | Plan Line Ref | Actual Line | Old String Match | Status |
|--------|---------------|-------------|------------------|--------|
| Structure tree | Lines 23-28 | Lines 23-28 | Exact match | OK |
| RALPH_GH_REPO footnote | Line 109 | Line 109 | Exact match | OK |
| Status sync section | Line 126 | Line 126 | Exact match | OK |
| Project management tools | Line 127 | Line 127 | Exact match | OK |

## File Existence Verification

Confirmed deleted files do not exist:
- `view-tools.ts` -- absent (correct)
- `sync-tools.ts` -- absent (correct)
- `routing-tools.ts` -- absent (correct)

Actual files in `src/tools/`:
1. `batch-tools.ts`
2. `dashboard-tools.ts`
3. `debug-tools.ts` -- **not in plan's proposed tree**
4. `hygiene-tools.ts` -- **not in plan's proposed tree**
5. `issue-tools.ts`
6. `project-management-tools.ts`
7. `project-tools.ts`
8. `relationship-tools.ts`

## Issues Found

### Minor: Structure tree omits two tool files (non-blocking)

The plan's proposed replacement structure tree lists 6 files but the actual directory contains 8. Two files are missing:

- `debug-tools.ts` -- contains `collate_debug` and `debug_stats` (conditional on `RALPH_DEBUG=true`)
- `hygiene-tools.ts` -- contains `project_hygiene`

Additionally, the plan's proposed comment for `dashboard-tools.ts` lists `project_hygiene` as one of its tools, but `project_hygiene` actually lives in `hygiene-tools.ts` (it imports shared queries from `dashboard-tools.ts` but is a separate file).

**Recommendation**: The builder should include all 8 files in the structure tree. The plan itself anticipates this on line 93 ("Verify actual files in `src/tools/` before writing") and line 185 ("Prior phases may have left additional files not listed here"), so this is already handled by the plan's guidance. The builder just needs to follow those instructions.

Suggested tree (for builder reference):
```
│       │   ├── tools/              # MCP tool implementations
│       │   │   ├── issue-tools.ts  # Issue CRUD, save_issue, get_issue
│       │   │   ├── project-tools.ts  # setup_project, get_project
│       │   │   ├── project-management-tools.ts  # archive_items, create_status_update
│       │   │   ├── relationship-tools.ts  # Sub-issues, dependencies, advance_issue
│       │   │   ├── batch-tools.ts  # batch_update
│       │   │   ├── dashboard-tools.ts  # pipeline_dashboard, detect_stream_positions
│       │   │   ├── hygiene-tools.ts  # project_hygiene
│       │   │   ├── debug-tools.ts  # collate_debug, debug_stats (RALPH_DEBUG only)
│       │   │   └── __tests__/      # Vitest tests
```

## Strengths

1. **Accurate line references**: All four replace blocks match the actual file content exactly. No risk of failed replacements.
2. **Defensive guidance**: The plan explicitly tells the builder to verify `ls src/tools/` before editing (lines 93, 185). This catches the missing files issue above.
3. **Clear scope boundary**: "What We're NOT Doing" is well-defined -- no source changes, no skill/agent updates, no new tests.
4. **Comprehensive verification**: The grep command on line 154 checks for 21 removed tool names. The build and test verification ensures no regressions.
5. **Implementation note about orphans**: Line 179 tells the builder to include any missed cleanup from prior phases, preventing scope-creep anxiety.

## Completeness Assessment

- All phases defined with clear changes: Yes (single phase, 6 sub-steps)
- Feasibility of replacements: All old strings verified to exist exactly as stated
- Success criteria specific and testable: Yes (automated grep checks + manual verification checklist)
- Scope well-defined: Yes

## Recommendation

**Approve and proceed.** The missing files in the proposed tree are a minor inaccuracy that the plan's own defensive instructions already address. The builder should follow the plan's guidance on line 93 to verify actual files before writing the tree.
