---
date: 2026-02-24
github_issue: 388
github_url: https://github.com/cdubiel08/ralph-hero/issues/388
plan_document: thoughts/shared/plans/2026-02-24-GH-0388-demo-cleanup-script.md
status: approved
type: critique
---

# GH-388: Plan Critique - Create Demo Cleanup Script

## Verdict: APPROVED

## Assessment

### Completeness (Pass)
- Single phase with all acceptance criteria addressed
- Script structure fully specified: header, env defaults, arg parsing, 4 stages (close, delete branches, archive, hard delete), summary output
- Pipe compatibility with `demo-seed.sh` explicitly designed (stdin detection)
- Auto-detection fallback by `demo` label included

### Feasibility (Pass)
- All referenced files verified to exist in codebase:
  - `plugin/ralph-hero/scripts/ralph-cli.sh` -- header convention reference
  - `plugin/ralph-hero/scripts/ralph-loop.sh` -- arg parsing pattern reference
  - `plugin/ralph-hero/hooks/scripts/team-stop-gate.sh` -- label filter pattern reference
- Research document is thorough and confirms `gh` CLI patterns are valid
- Pure `gh` CLI approach (Option A) avoids MCP server dependency -- appropriate for a standalone shell script
- Idempotency handled via `|| true` guards on all destructive operations

### Clarity (Pass)
- Success criteria are specific and testable:
  - Automated: `bash -n` syntax check, `shellcheck` lint
  - Manual: `--help`, pipe input, `--hard` mode, idempotency
- Integration testing steps defined (pipe with seed, auto-detection, hard delete)
- Code examples provided for every stage

### Scope (Pass)
- "What We're NOT Doing" section is well-defined and appropriate for XS estimate
- No modifications to existing scripts
- No MCP dependency
- No test suite (reasonable for XS shell script)
- No GraphQL fallback (documents min version instead)

### Minor Observations (Non-blocking)
- The plan references `#!/usr/bin/env bash` from `ralph-cli.sh` but notes research found most scripts use `#!/bin/bash`. The plan correctly chose the stricter form -- this is fine.
- The `gh project item-list` approach for finding project item IDs may be slow for large projects, but this is a demo cleanup tool operating on a small number of items -- acceptable.

## Conclusion

The plan is complete, feasible, well-scoped, and has clear success criteria. No issues identified. Ready for implementation.
