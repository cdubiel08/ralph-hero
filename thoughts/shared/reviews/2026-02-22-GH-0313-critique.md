---
date: 2026-02-22
github_issue: 313
github_url: https://github.com/cdubiel08/ralph-hero/issues/313
plan_document: thoughts/shared/plans/2026-02-21-group-GH-0312-artifact-path-passthrough.md
status: approved
type: critique
---

# GH-313 Plan Critique: Define Artifact Passthrough Protocol in conventions.md

## Verdict: APPROVED

The plan is sound in intent and scope. The two issues below are minor and correctable during implementation without iteration.

## Issues Found

### 1. Line Number References Are Wrong (Severity: Low)

The plan references "after line 532" for inserting after "Artifact Comment Protocol" and "line 140" for the Placeholder Substitution table. The actual file is 302 lines:

| Plan Reference | Actual Location |
|---|---|
| "Artifact Comment Protocol" at ~line 532 | Line 241 |
| Placeholder Substitution table at line 140 | Lines 122-131 |
| `{SKILL_INVOCATION}` row | Line 129 |

**Impact**: None for implementation. The plan identifies the correct *sections* by name, so the implementer can locate them regardless of line numbers. The section names are unique and unambiguous.

### 2. Spawn Template Update Needs Specificity (Severity: Low)

The plan says to update the `{SKILL_INVOCATION}` description in the Placeholder Substitution table to "note that artifact flags may be appended to args when available." The current description at line 129 is:

```
| `{SKILL_INVOCATION}` | Spawn table "Skill" column | Always |
```

The plan should clarify whether to:
- (a) Modify the "Source" column text, or
- (b) Add a note/footnote below the table

Additionally, the plan says to "add example in the Resolution Procedure showing args with artifact flag" (Section 2 of the Resolution Procedure at lines 153-159). This is clear enough to implement.

**Impact**: Minor ambiguity. The implementer can reasonably choose option (a) since modifying the Source column is the simplest change that conveys the information.

## Strengths

1. **Clear insertion point**: "After Artifact Comment Protocol" is unambiguous -- there is exactly one section with that name (line 241), and inserting a new protocol section after line 302 (end of file, after that section) is natural.

2. **Well-defined protocol elements**: The plan specifies concrete flag names (`--research-doc`, `--plan-doc`), argument format, parsing rules, lead extraction rules, and examples. This is sufficient detail for implementation.

3. **Success criteria are testable**: Two automated grep checks plus one manual verification. The automated checks are specific and correct.

4. **Scope is appropriate for Phase 1**: Defining the protocol in conventions.md before referencing it in Phases 2-4 is the right dependency ordering.

## Verification Summary

| Check | Result |
|---|---|
| Target file exists | Yes: `plugin/ralph-hero/skills/shared/conventions.md` (302 lines) |
| "Artifact Comment Protocol" section exists | Yes: line 241 |
| Placeholder Substitution table exists | Yes: lines 122-131 |
| `{SKILL_INVOCATION}` row exists | Yes: line 129 |
| Resolution Procedure section exists | Yes: lines 153-159 |
| Worker template uses `{SKILL_INVOCATION}` | Yes: line 4 of `templates/spawn/worker.md` |
| No conflicting "Artifact Passthrough" section already exists | Confirmed: no existing section with that name |
